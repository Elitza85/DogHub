@model DogHub.Web.ViewModels.Competitions.CompetitionDetailsViewModel

<!DOCTYPE html>
<html>
<head>
    @*<script type="text/javascript" src="~/js/Competitions/CompetitionDetailsScripts.js"></script>*@
    <link rel="stylesheet" href="~/css/Competitions/CompetitionDetailsStyles.css" />
</head>
<body>
    <div class="container">
        <div id="comeptitionDetails">
            <table>
                <thead>
                <th></th>
                <th>Competition Details</th>
                <th></th>
                </thead>

                <tbody>
                <td>
                    <img width="200" class="j img-thumbnail" src="@Model.CompetitionImage" />
                </td>

                <td>
                    <div class="font-weight-bold">
                        @Model.Name
                    </div>
                    <p class="font-weight-normal">
                        <li>Start Date and Time: @Model.StartDate.ToString("f")</li>
                        <li>End Date and Time: @Model.EndDate.ToString("f")</li>
                        <li>Participants: @Model.ParticipantsCount</li>
                        <li>Status: @Model.Status</li>
                    </p>
                </td>
                @if (Model.Status == "In Progress")
                {
                    <td>
                        <a class="btn btn-info" href="/CurrentShows/Competitors?competitionId=@Model.CompetitionId">Vote</a>
                    </td>
                }
                else if (Model.Status == "Upcoming")
                {
                    <td>
                        <a class="btn btn-info" href="/Competitions/AddDogToCompetition?id=@Model.CompetitionId">Add Dog to Competition</a>
                    </td>
                }

                else if (Model.Status == "Complete")
                {
                    <td>
                        <a class="btn btn-info" id="detailsBtn" onclick="displayFunc()">Winners Details</a>
                    </td>
                }
                </tbody>
            </table>
        </div>

        <div id="winnersDetails">
            <table>
                <thead>
                <th>Place</th>
                <th>Females</th>
                <th>Males</th>
                </thead>

                <tbody>
                <td>
                    <p>
                        <i class="fas fa-trophy"></i>
                        <span class="font-weight-bold"> Winner: </span>
                    </p>
                    <p>
                        <span> 2nd place: </span>
                    </p>
                    <p>
                        <span> 3rd place: </span>
                    </p>
                    <p>
                        <span> 4th place: </span>
                    </p>
                    <p>
                        <span> 5th place: </span>
                    </p>
                </td>
                <td id="females">
                    @*Put here the foreach for females*@
                    @*use the Function buildDomElement to create data for each dog *@
                    <p>
                        <div class="popup" onclick="popUpDataWindow()">
                            <a id="dogName">Kassy</a>
                            <span class="popuptext" id="myPopup">
                    <p id="totalPoints">Total Points in the Competition: 200</p>
                    <a href="/Dogs/DogProfile?id=1">Review Profile</a>
                    <p id="closePopUpX">
                        <i class="fas fa-times"></i>
                    </p>

                    </span>
        </div>
        </p>
        </td>
        <td id="males">
            @*Put here the foreach for males*@
            @*use the Function buildDomElement to create data for each dog *@

            <p>
                <div class="popup" onclick="popUpDataWindow()">
                    <a id="dogName">Victor</a>
                    <span class="popuptext" id="myPopup">
            <p id="totalPoints">Total Points in the Competition: 200</p>
            <a href="/Dogs/DogProfile?id=1">Review Dog Profile</a>
            <p id="closePopUpX">
                <i class="fas fa-times"></i>
            </p>

            </span>
    </div>
    </p>
    </td>
    <td>
        <a class="btn" id="closeData">
            <i class="fas fa-times"></i>
        </a>
    </td>


    </tbody>
    </table>

    </div>

    </div>

    <span>
        <a class="btn btn-light btn-outline-dark" style="margin-top: 10px; margin-left: -50px;" href="/Competitions/CompetitionsList">Back</a>
    </span>

</body>
</html>

<script>
    function displayFunc() {
        var dataToDisplay = document.querySelector('#winnersDetails');
        var openDatabtn = document.querySelector('#detailsBtn');
        var closeDataBtn = document.querySelector('#closeData');

        openDatabtn.style.display = "block";

        if (openDatabtn.style.display === "block") {
            openDatabtn.style.display = 'none';
            dataToDisplay.style.display = 'block';
        }

        closeDataBtn.addEventListener("click", () => {
            openDatabtn.style.display = 'block';
            dataToDisplay.style.display = 'none';
        })
    }
</script>
